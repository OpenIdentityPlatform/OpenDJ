<?xml version="1.0" encoding="UTF-8"?>
<!--
  ! CCPL HEADER START
  !
  ! This work is licensed under the Creative Commons
  ! Attribution-NonCommercial-NoDerivs 3.0 Unported License.
  ! To view a copy of this license, visit
  ! http://creativecommons.org/licenses/by-nc-nd/3.0/
  ! or send a letter to Creative Commons, 444 Castro Street,
  ! Suite 900, Mountain View, California, 94041, USA.
  !
  ! You can also obtain a copy of the license at
  ! trunk/opendj3/legal-notices/CC-BY-NC-ND.txt.
  ! See the License for the specific language governing permissions
  ! and limitations under the License.
  !
  ! If applicable, add the following below this CCPL HEADER, with the fields
  ! enclosed by brackets "[]" replaced with your own identifying information:
  !      Portions Copyright [yyyy] [name of copyright owner]
  !
  ! CCPL HEADER END
  !
  !      Copyright 2013-2014 ForgeRock AS
  !
-->
<refentry xml:id='makeldif-1'
          xmlns='http://docbook.org/ns/docbook'
          version='5.0' xml:lang='en'
          xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
          xsi:schemaLocation='http://docbook.org/ns/docbook
                              http://docbook.org/xml/5.0/xsd/docbook.xsd'
          xmlns:xlink='http://www.w3.org/1999/xlink'>
 <info>
  <copyright>
   <year>2013-2014</year>
   <holder>ForgeRock AS</holder>
  </copyright>
 </info>

 <refmeta>
  <refentrytitle>makeldif</refentrytitle><manvolnum>1</manvolnum>
  <refmiscinfo class="software">OpenDJ</refmiscinfo>
  <refmiscinfo class="version">${docTargetVersion}</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>makeldif</refname>
  <refpurpose>generate test LDIF</refpurpose>
 </refnamediv>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>makeldif</command>
   <arg choice="req">options</arg>
   <arg choice="plain">template-file-path</arg>
  </cmdsynopsis>
 </refsynopsisdiv>

 <refsect1>
  <title>Description</title>
  <para>
   This utility can be used to generate LDIF data
   based on a definition in a template file,
   specified by <replaceable>template-file-path</replaceable>.
  </para>

  <para>
   The <replaceable>template-file-path</replaceable> can be
   one of the following:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     A full path to the template file such as
     <filename>/path/to/opendj/config/MakeLDIF/example.template</filename>.
    </para>
   </listitem>

   <listitem>
    <para>
     A relative path to the template file such as
     <filename>../../my-test-data.template</filename>.
    </para>
   </listitem>

   <listitem>
    <para>
     A file name that specifies one of the template files
     that are built into the OpenDJ LDAP Toolkit,
     such as <filename>example.template</filename>,
     or <filename>people_and_groups.template</filename>.
    </para>
   </listitem>
  </itemizedlist>

  <para>
   The OpenDJ LDAP Toolkit includes these built-in template and data files:
  </para>

  <variablelist>
   <varlistentry>
    <term><filename>cities</filename></term>
    <listitem>
     <para>
      List of more than 200 cities.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>example.template</filename></term>
    <listitem>
     <para>
      Template to generate a base entry and users
      in a branch <literal>ou=people,[suffix]</literal>,
      where the default setting for suffix is
      <literal>suffix=dc=example,dc=com</literal>.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>first.names</filename></term>
    <listitem>
     <para>
      List of more than 8000 first names.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>last.names</filename></term>
    <listitem>
     <para>
      List of more than 13000 last names.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>people_and_groups.template</filename></term>
    <listitem>
     <para>
      Template to generate a base entry, users, and groups.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>states</filename></term>
    <listitem>
     <para>
      List of US states by their two-character codes.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><filename>streets</filename></term>
    <listitem>
     <para>
      List of more than 70 street names.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Options</title>
  <para>The following options are supported.</para>

  <variablelist>
   <varlistentry>
    <term><option>-c, --constant {name=value}</option></term>
    <listitem>
     <para>
      A constant that overrides the value set in the template file.
     </para>

     <para>
      Repeat this argument as necessary.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><option>-o, --outputLDIF {file}</option></term>
    <listitem>
     <para>
      The path to the LDIF file to be written.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><option>-r, --resourcePath {path}</option></term>
    <listitem>
     <para>
      Path to look for resources (such as data files).
     </para>

     <para>
      The <command>makeldif</command> command looks for resources
      in the following locations in this order:
     </para>

     <orderedlist>
      <listitem>
       <para>
        The current directory where the command is run.
       </para>
      </listitem>

      <listitem>
       <para>
        The resource path directory.
       </para>
      </listitem>

      <listitem>
       <para>
        The built-in files.
       </para>
      </listitem>
     </orderedlist>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><option>-s, --randomSeed {seed}</option></term>
    <listitem>
     <para>
      The seed to use to initialize the random number generator.
     </para>

     <para>
      Default value: 0
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><option>-V, --version</option></term>
    <listitem>
     <para>
      Display version information.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><option>-?, -H, --help</option></term>
    <listitem>
     <para>
      Display usage information.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Exit Codes</title>

  <variablelist>
   <varlistentry>
    <term>0</term>
    <listitem>
     <para>The command completed successfully.</para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>1</term>
    <listitem>
     <para>An error occurred.</para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>

 <refsect1>
  <title>Examples</title>

  <para>
   The following example uses a built-in template and data files
   to generate a base entry, an <literal>ou=People</literal> entry,
   and 2000 user entries, instead of the default specified in the template,
   which is 10000.
  </para>

  <screen>
$ <userinput>makeldif --outputLDIF test.ldif --constant numusers=2000 example.template</userinput>
<computeroutput>Processed 1000 entries
Processed 2000 entries
LDIF processing complete. 2002 entries written</computeroutput>
  </screen>
 </refsect1>

 <refsect1>
  <title>See Also</title>

  <para>
   <link xlink:show="new"
         xlink:href="dev-guide#makeldif-template-5"
         xlink:role="http://docbook.org/xlink/role/olink"
           ><citerefentry><refentrytitle
           >makeldif.template</refentrytitle><manvolnum
           >5</manvolnum></citerefentry></link>
  </para>
 </refsect1>
</refentry>
