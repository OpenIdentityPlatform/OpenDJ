<?xml version="1.0" encoding="utf-8"?>
<!--
 ! CDDL HEADER START
 !
 ! The contents of this file are subject to the terms of the
 ! Common Development and Distribution License, Version 1.0 only
 ! (the "License").  You may not use this file except in compliance
 ! with the License.
 !
 ! You can obtain a copy of the license at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE
 ! or https://OpenDS.dev.java.net/OpenDS.LICENSE.
 ! See the License for the specific language governing permissions
 ! and limitations under the License.
 !
 ! When distributing Covered Code, include this CDDL HEADER in each
 ! file and include the License file at
 ! trunk/opends/resource/legal-notices/OpenDS.LICENSE.  If applicable,
 ! add the following below this CDDL HEADER, with the fields enclosed
 ! by brackets "[]" replaced with your own identifying information:
 !      Portions Copyright [yyyy] [name of copyright owner]
 !
 ! CDDL HEADER END
 !
 !
 !      Portions Copyright 2007 Sun Microsystems, Inc.
 ! -->

<adm:managed-object name="error-log-publisher"
plural-name="error-log-publishers"
package="org.opends.server.admin.std"
extends="log-publisher"
abstract="true"
xmlns:adm="http://www.opends.org/admin"
xmlns:ldap="http://www.opends.org/admin-ldap">

  <adm:synopsis>
    <adm:user-friendly-plural-name />
    are reponsible for distributing error log messages from the error logger to
    a destination.
  </adm:synopsis>

  <adm:profile name="ldap">
    <ldap:object-class>
      <ldap:oid>1.3.6.1.4.1.26027.1.2.24</ldap:oid>
      <ldap:name>ds-cfg-error-logger</ldap:name>
      <ldap:superior>ds-cfg-logger</ldap:superior>
    </ldap:object-class>
  </adm:profile>

  <adm:property name="java-implementation-class" mandatory="true">
    <adm:synopsis>
      The fully-qualified name of the Java class that provides the
      <adm:user-friendly-name />
      implementation.
    </adm:synopsis>
    <adm:syntax>
      <adm:java-class>
        <adm:instance-of>
          org.opends.server.api.ErrorLogPublisher
        </adm:instance-of>
      </adm:java-class>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.60</ldap:oid>
        <ldap:name>ds-cfg-logger-class</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>

  <adm:property name="default-severity" multi-valued="true">
    <adm:synopsis>
      Property to specify the default severity levels for the logger.
    </adm:synopsis>
    <adm:default-behavior>
      <adm:alias>
        <adm:synopsis>
          Severities fatal-error, severe-warning, and severe-error will
          be used for the logger.
        </adm:synopsis>
      </adm:alias>
    </adm:default-behavior>
    <adm:syntax>
      <adm:enumeration>
        <adm:value name="all">
          <adm:synopsis>
            Messages of all severity levels will be logged.
          </adm:synopsis>
        </adm:value>
        <adm:value name="none">
          <adm:synopsis>
            No messages of any severity will be logged by default.
            This value is intended to be used in conjunction with
            the override-severity property to define an error
            logger that will publish no error message beside the errors
            of a given category.
          </adm:synopsis>
        </adm:value>
        <adm:value name="fatal-error">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about fatal errors which may force the server
            to shut down or operate in a significantly degraded state.
          </adm:synopsis>
        </adm:value>
        <adm:value name="info">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about significant events within the server
            that are not warnings or errors.
          </adm:synopsis>
        </adm:value>
        <adm:value name="mild-error">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about mild (recoverable) errors encountered
            during processing.
          </adm:synopsis>
        </adm:value>
        <adm:value name="mild-warning">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about mild warnings triggered during
            processing.
          </adm:synopsis>
        </adm:value>
        <adm:value name="notice">
          <adm:synopsis>
            The error log severity that will be used for the most important
            informational messages (i.e., information that should almost
            always be logged but is not associated with a warning or error
            condition).
          </adm:synopsis>
        </adm:value>
        <adm:value name="severe-error">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about severe errors encountered during
            processing.
          </adm:synopsis>
        </adm:value>
        <adm:value name="severe-warning">
          <adm:synopsis>
            The error log severity that will be used for messages that
            provide information about severe warnings triggered during
            processing.
          </adm:synopsis>
        </adm:value>
      </adm:enumeration>
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.31</ldap:oid>
        <ldap:name>ds-cfg-default-severity</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>

  <adm:property name="override-severity" multi-valued="true">
    <adm:synopsis>
      Property to specify the override severity levels for the logger
      based on the category of the messages. Each override severity
      level should include the category and the severity levels to log
      for that category. (ie. core-server=mild_error,info,mild_warning).
    </adm:synopsis>
    <adm:default-behavior>
      <adm:alias>
        <adm:synopsis>
          All messages with the default severity levels will be logged.
        </adm:synopsis>
      </adm:alias>
    </adm:default-behavior>
    <adm:syntax>
      <adm:string />
    </adm:syntax>
    <adm:profile name="ldap">
      <ldap:attribute>
        <ldap:oid>1.3.6.1.4.1.26027.1.1.74</ldap:oid>
        <ldap:name>ds-cfg-override-severity</ldap:name>
      </ldap:attribute>
    </adm:profile>
  </adm:property>
</adm:managed-object>
